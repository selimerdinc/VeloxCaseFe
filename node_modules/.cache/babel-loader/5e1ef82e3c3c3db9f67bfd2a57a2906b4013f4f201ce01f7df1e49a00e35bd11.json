{"ast":null,"code":"var _s = $RefreshSig$();\n// src/features/dashboard/useDashboard.js\n\nimport { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nconst API_BASE_URL = 'https://quickcase-api.onrender.com/api';\n\n/**\n * useDashboard: Dashboard ekranÄ±nÄ±n tÃ¼m veri yÃ¶netimi ve iÅŸ mantÄ±ÄŸÄ±nÄ± yÃ¶netir.\n */\nexport const useDashboard = (token, currentView, onLogout, setView) => {\n  _s();\n  // --- DASHBOARD STATE'leri ---\n  const [repoId, setRepoId] = useState(1);\n  const [folders, setFolders] = useState([]);\n  const [selectedFolder, setSelectedFolder] = useState('');\n  const [jiraInput, setJiraInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [foldersLoading, setFoldersLoading] = useState(false);\n  const [syncResults, setSyncResults] = useState([]);\n  const [showNewFolder, setShowNewFolder] = useState(false);\n  const [newFolderName, setNewFolderName] = useState('');\n\n  // YENÄ°: Dashboard Input Hata State'i\n  const [dashboardErrors, setDashboardErrors] = useState({\n    jiraInput: false,\n    selectedFolder: false\n  });\n\n  // --- PREVIEW STATE ---\n  const [previewTask, setPreviewTask] = useState(null);\n  const [previewLoading, setPreviewLoading] = useState(false);\n\n  // --- SETTINGS & DATA STATE'leri ---\n  const [settingsData, setSettingsData] = useState({});\n  const [settingsLoading, setSettingsLoading] = useState(false);\n  const [historyData, setHistoryData] = useState([]);\n  const [stats, setStats] = useState({\n    total_cases: 0,\n    total_images: 0,\n    today_syncs: 0\n  });\n  const [settingsTab, setSettingsTab] = useState('api');\n  const [passwordData, setPasswordData] = useState({\n    old: '',\n    new: '',\n    confirm: ''\n  });\n  const [passwordErrors, setPasswordErrors] = useState({\n    old: false,\n    new: false,\n    confirm: false\n  });\n\n  // --- VERÄ° Ã‡EKME Ä°ÅžLEVLERÄ° (AynÄ± kalÄ±r) ---\n  const fetchFolders = useCallback(async () => {\n    if (!repoId || !token || currentView !== 'dashboard') return;\n    setFoldersLoading(true);\n    try {\n      const res = await axios.get(`${API_BASE_URL}/folders/${repoId}`);\n      setFolders(res.data.folders || []);\n    } catch (err) {\n      var _err$response;\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) onLogout();\n    } finally {\n      setFoldersLoading(false);\n    }\n  }, [repoId, token, currentView, onLogout]);\n  const fetchStats = useCallback(async () => {\n    if (!token || currentView !== 'dashboard') return;\n    try {\n      const res = await axios.get(`${API_BASE_URL}/stats`);\n      setStats(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n  }, [token, currentView]);\n\n  // --- YAN ETKÄ°LER (USE EFFECT - AynÄ± kalÄ±r) ---\n  useEffect(() => {\n    if (token && currentView === 'dashboard') {\n      fetchFolders();\n      fetchStats();\n    }\n  }, [fetchFolders, fetchStats, token, currentView]);\n  useEffect(() => {\n    if (currentView === 'history' && token) {\n      axios.get(`${API_BASE_URL}/history`).then(res => setHistoryData(res.data));\n    }\n    if (currentView === 'settings' && token) {\n      axios.get(`${API_BASE_URL}/settings`).then(res => {\n        const {\n          ...cleanData\n        } = res.data;\n        setSettingsData(cleanData);\n      });\n    }\n  }, [currentView, token]);\n  useEffect(() => {\n    setPreviewTask(null);\n    const delay = setTimeout(async () => {\n      if (token && jiraInput.length > 5 && !jiraInput.includes(',')) {\n        setPreviewLoading(true);\n        try {\n          const res = await axios.post(`${API_BASE_URL}/preview`, {\n            task_key: jiraInput\n          });\n          setPreviewTask(res.data);\n        } catch {\n          setPreviewTask(null);\n        } finally {\n          setPreviewLoading(false);\n        }\n      } else {\n        setPreviewTask(null);\n      }\n    }, 800);\n    return () => clearTimeout(delay);\n  }, [jiraInput, token]);\n\n  // --- Ä°ÅžLEVLER: CRUD/AKSYONLAR (GÃœNCELLENDÄ°) ---\n\n  // Senkronizasyon BaÅŸlatma (GÃœNCELLENDÄ°)\n  const handleSync = async () => {\n    // Hata kontrolÃ¼ iÃ§in yeni deÄŸiÅŸkenler\n    const newErrors = {\n      jiraInput: !jiraInput || jiraInput.trim() === '',\n      selectedFolder: !selectedFolder || selectedFolder === ''\n    };\n    setDashboardErrors(newErrors);\n    if (newErrors.jiraInput || newErrors.selectedFolder) {\n      return toast.error(\"LÃ¼tfen Jira AnahtarÄ± ve Hedef KlasÃ¶r alanlarÄ±nÄ± doldurunuz.\", {\n        icon: 'ðŸ›‘'\n      });\n    }\n\n    // EÄŸer hata yoksa senkronizasyonu baÅŸlat\n    setLoading(true);\n    setSyncResults([]);\n    const tId = toast.loading('Entegrasyon baÅŸlatÄ±ldÄ±, veriler iÅŸleniyor...');\n    try {\n      const res = await axios.post(`${API_BASE_URL}/sync`, {\n        jira_input: jiraInput,\n        folder_id: selectedFolder,\n        project_id: repoId\n      });\n      setSyncResults(res.data.results || []);\n      const success = res.data.results.filter(r => r.status === 'success').length;\n      const failed = res.data.results.length - success;\n      if (success > 0) {\n        toast.success(`Ä°ÅŸlem TamamlandÄ±! ${success} kayÄ±t baÅŸarÄ±yla aktarÄ±ldÄ±. ${failed > 0 ? `(${failed} tanesi hata verdi.)` : ''}`, {\n          id: tId,\n          duration: 8000\n        });\n        setJiraInput('');\n        fetchStats();\n        setTimeout(() => setSyncResults([]), 10000);\n      } else {\n        toast.error(\"TÃ¼m gÃ¶rev anahtarlarÄ± iÅŸlenirken hata oluÅŸtu. LÃ¼tfen giriÅŸleri kontrol edin.\", {\n          id: tId\n        });\n      }\n    } catch (err) {\n      toast.error(\"Sunucu ile iletiÅŸim kurulamadÄ±. LÃ¼tfen API baÄŸlantÄ±larÄ±nÄ±zÄ± kontrol edin.\", {\n        id: tId\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Yeni KlasÃ¶r OluÅŸturma\n  const handleCreateFolder = async () => {\n    if (!newFolderName) return toast.error(\"LÃ¼tfen klasÃ¶r adÄ± giriniz.\");\n    try {\n      var _res$data;\n      const res = await axios.post(`${API_BASE_URL}/folders/${repoId}`, {\n        name: newFolderName,\n        parent_id: selectedFolder || null\n      });\n      await fetchFolders();\n      if ((_res$data = res.data) !== null && _res$data !== void 0 && _res$data.id) setSelectedFolder(res.data.id);\n      setNewFolderName('');\n      setShowNewFolder(false);\n      toast.success(`KlasÃ¶r baÅŸarÄ±yla oluÅŸturuldu: ${newFolderName}`, {\n        icon: 'ðŸ“'\n      });\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      const msg = ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.msg) || \"KlasÃ¶r oluÅŸturma hatasÄ±. AynÄ± isimde bir klasÃ¶r olabilir.\";\n      toast.error(msg);\n    }\n  };\n\n  // AyarlarÄ± Kaydetme\n  const saveSettings = async () => {\n    setSettingsLoading(true);\n    try {\n      await axios.post(`${API_BASE_URL}/settings`, settingsData);\n      toast.success(\"YapÄ±landÄ±rma ayarlarÄ± baÅŸarÄ±yla gÃ¼ncellendi.\", {\n        icon: 'ðŸ’¾'\n      });\n      setTimeout(() => setView('dashboard'), 1000);\n    } catch {\n      toast.error(\"Ayarlar kaydedilemedi. LÃ¼tfen tÃ¼m alanlarÄ±n doÄŸru olduÄŸundan emin olun.\");\n    } finally {\n      setSettingsLoading(false);\n    }\n  };\n\n  // Åžifre DeÄŸiÅŸtirme\n  const handleChangePassword = async () => {\n    setPasswordErrors({\n      old: false,\n      new: false,\n      confirm: false\n    });\n    let hasError = false;\n    const tempErrors = {\n      old: false,\n      new: false,\n      confirm: false\n    };\n    if (!passwordData.old) {\n      tempErrors.old = true;\n      hasError = true;\n    }\n    if (!passwordData.new) {\n      tempErrors.new = true;\n      hasError = true;\n    }\n    if (!passwordData.confirm) {\n      tempErrors.confirm = true;\n      hasError = true;\n    }\n    if (hasError) {\n      setPasswordErrors(tempErrors);\n      return toast.error(\"LÃ¼tfen ÅŸifre alanlarÄ±nÄ± eksiksiz doldurunuz.\");\n    }\n    if (passwordData.new !== passwordData.confirm) {\n      setPasswordErrors(e => ({\n        ...e,\n        new: true,\n        confirm: true\n      }));\n      return toast.error(\"Yeni ÅŸifreler birbiriyle uyuÅŸmuyor.\");\n    }\n    if (passwordData.new.length < 8) {\n      setPasswordErrors(e => ({\n        ...e,\n        new: true,\n        confirm: true\n      }));\n      return toast.error(\"Yeni ÅŸifreniz en az 8 karakter olmalÄ±dÄ±r.\");\n    }\n    setSettingsLoading(true);\n    try {\n      await axios.post(`${API_BASE_URL}/change-password`, {\n        old_password: passwordData.old,\n        new_password: passwordData.new\n      });\n      toast.success(\"Åžifreniz baÅŸarÄ±yla gÃ¼ncellendi. Yeni ÅŸifrenizle giriÅŸ yapÄ±nÄ±z.\", {\n        icon: 'ðŸ”’'\n      });\n      setPasswordData({\n        old: '',\n        new: '',\n        confirm: ''\n      });\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      const msg = ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.msg) || \"Åžifre deÄŸiÅŸtirilemedi.\";\n      if (msg.includes('old password is incorrect')) {\n        setPasswordErrors(e => ({\n          ...e,\n          old: true\n        }));\n        toast.error(\"Mevcut ÅŸifreniz hatalÄ±. LÃ¼tfen doÄŸru ÅŸifrenizi giriniz.\");\n      } else {\n        toast.error(msg);\n      }\n    } finally {\n      setSettingsLoading(false);\n    }\n  };\n\n  // --- KAPSÃœLLENMÄ°Åž ARAYÃœZ (RETURN) ---\n  return {\n    // State'ler\n    repoId,\n    folders,\n    selectedFolder,\n    jiraInput,\n    loading,\n    foldersLoading,\n    syncResults,\n    showNewFolder,\n    newFolderName,\n    previewTask,\n    previewLoading,\n    settingsData,\n    settingsLoading,\n    historyData,\n    stats,\n    settingsTab,\n    passwordData,\n    passwordErrors,\n    dashboardErrors,\n    // YENÄ° EKLENDÄ°\n\n    // Setters (Input/Select gÃ¼ncellenince hatayÄ± temizleme mantÄ±ÄŸÄ± eklendi)\n    setRepoId,\n    setSelectedFolder: value => {\n      setSelectedFolder(value);\n      if (dashboardErrors.selectedFolder) setDashboardErrors(e => ({\n        ...e,\n        selectedFolder: false\n      }));\n    },\n    setJiraInput: value => {\n      setJiraInput(value);\n      if (dashboardErrors.jiraInput) setDashboardErrors(e => ({\n        ...e,\n        jiraInput: false\n      }));\n    },\n    setShowNewFolder,\n    setNewFolderName,\n    setSettingsData,\n    setSettingsTab,\n    setPasswordData,\n    setPasswordErrors,\n    // Ä°ÅŸlevler\n    handleSync,\n    handleCreateFolder,\n    saveSettings,\n    handleChangePassword,\n    fetchFolders,\n    fetchStats\n  };\n};\n_s(useDashboard, \"7dhQlZJLE13u9U49zJKPD0dYHQk=\");","map":{"version":3,"names":["useState","useEffect","useCallback","axios","toast","API_BASE_URL","useDashboard","token","currentView","onLogout","setView","_s","repoId","setRepoId","folders","setFolders","selectedFolder","setSelectedFolder","jiraInput","setJiraInput","loading","setLoading","foldersLoading","setFoldersLoading","syncResults","setSyncResults","showNewFolder","setShowNewFolder","newFolderName","setNewFolderName","dashboardErrors","setDashboardErrors","previewTask","setPreviewTask","previewLoading","setPreviewLoading","settingsData","setSettingsData","settingsLoading","setSettingsLoading","historyData","setHistoryData","stats","setStats","total_cases","total_images","today_syncs","settingsTab","setSettingsTab","passwordData","setPasswordData","old","new","confirm","passwordErrors","setPasswordErrors","fetchFolders","res","get","data","err","_err$response","response","status","fetchStats","console","error","then","cleanData","delay","setTimeout","length","includes","post","task_key","clearTimeout","handleSync","newErrors","trim","icon","tId","jira_input","folder_id","project_id","results","success","filter","r","failed","id","duration","handleCreateFolder","_res$data","name","parent_id","_err$response2","_err$response2$data","msg","saveSettings","handleChangePassword","hasError","tempErrors","e","old_password","new_password","_err$response3","_err$response3$data","value"],"sources":["/Users/btcyz554/PycharmProjects/VeloxCaseFe/src/features/dashboard/useDashboard.js"],"sourcesContent":["// src/features/dashboard/useDashboard.js\n\nimport { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\nconst API_BASE_URL = 'https://quickcase-api.onrender.com/api';\n\n/**\n * useDashboard: Dashboard ekranÄ±nÄ±n tÃ¼m veri yÃ¶netimi ve iÅŸ mantÄ±ÄŸÄ±nÄ± yÃ¶netir.\n */\nexport const useDashboard = (token, currentView, onLogout, setView) => {\n    // --- DASHBOARD STATE'leri ---\n    const [repoId, setRepoId] = useState(1);\n    const [folders, setFolders] = useState([]);\n    const [selectedFolder, setSelectedFolder] = useState('');\n    const [jiraInput, setJiraInput] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [foldersLoading, setFoldersLoading] = useState(false);\n    const [syncResults, setSyncResults] = useState([]);\n    const [showNewFolder, setShowNewFolder] = useState(false);\n    const [newFolderName, setNewFolderName] = useState('');\n\n    // YENÄ°: Dashboard Input Hata State'i\n    const [dashboardErrors, setDashboardErrors] = useState({ jiraInput: false, selectedFolder: false });\n\n    // --- PREVIEW STATE ---\n    const [previewTask, setPreviewTask] = useState(null);\n    const [previewLoading, setPreviewLoading] = useState(false);\n\n    // --- SETTINGS & DATA STATE'leri ---\n    const [settingsData, setSettingsData] = useState({});\n    const [settingsLoading, setSettingsLoading] = useState(false);\n    const [historyData, setHistoryData] = useState([]);\n    const [stats, setStats] = useState({ total_cases: 0, total_images: 0, today_syncs: 0 });\n    const [settingsTab, setSettingsTab] = useState('api');\n    const [passwordData, setPasswordData] = useState({ old: '', new: '', confirm: '' });\n    const [passwordErrors, setPasswordErrors] = useState({ old: false, new: false, confirm: false });\n\n\n    // --- VERÄ° Ã‡EKME Ä°ÅžLEVLERÄ° (AynÄ± kalÄ±r) ---\n    const fetchFolders = useCallback(async () => {\n        if (!repoId || !token || currentView !== 'dashboard') return;\n        setFoldersLoading(true);\n        try {\n            const res = await axios.get(`${API_BASE_URL}/folders/${repoId}`);\n            setFolders(res.data.folders || []);\n        } catch (err) {\n            if(err.response?.status === 401) onLogout();\n        } finally {\n            setFoldersLoading(false);\n        }\n    }, [repoId, token, currentView, onLogout]);\n\n    const fetchStats = useCallback(async () => {\n        if (!token || currentView !== 'dashboard') return;\n        try {\n            const res = await axios.get(`${API_BASE_URL}/stats`);\n            setStats(res.data);\n        } catch (err) {\n            console.error(err);\n        }\n    }, [token, currentView]);\n\n\n    // --- YAN ETKÄ°LER (USE EFFECT - AynÄ± kalÄ±r) ---\n    useEffect(() => {\n        if(token && currentView === 'dashboard') {\n            fetchFolders();\n            fetchStats();\n        }\n    }, [fetchFolders, fetchStats, token, currentView]);\n\n    useEffect(() => {\n        if (currentView === 'history' && token) {\n            axios.get(`${API_BASE_URL}/history`).then(res => setHistoryData(res.data));\n        }\n        if (currentView === 'settings' && token) {\n            axios.get(`${API_BASE_URL}/settings`).then(res => {\n                const { ...cleanData } = res.data;\n                setSettingsData(cleanData);\n            });\n        }\n    }, [currentView, token]);\n\n    useEffect(() => {\n        setPreviewTask(null);\n        const delay = setTimeout(async () => {\n            if (token && jiraInput.length > 5 && !jiraInput.includes(',')) {\n                setPreviewLoading(true);\n                try {\n                    const res = await axios.post(`${API_BASE_URL}/preview`, { task_key: jiraInput });\n                    setPreviewTask(res.data);\n                } catch {\n                    setPreviewTask(null);\n                } finally {\n                    setPreviewLoading(false);\n                }\n            } else {\n                setPreviewTask(null);\n            }\n        }, 800);\n        return () => clearTimeout(delay);\n    }, [jiraInput, token]);\n\n\n    // --- Ä°ÅžLEVLER: CRUD/AKSYONLAR (GÃœNCELLENDÄ°) ---\n\n    // Senkronizasyon BaÅŸlatma (GÃœNCELLENDÄ°)\n    const handleSync = async () => {\n        // Hata kontrolÃ¼ iÃ§in yeni deÄŸiÅŸkenler\n        const newErrors = {\n            jiraInput: !jiraInput || jiraInput.trim() === '',\n            selectedFolder: !selectedFolder || selectedFolder === ''\n        };\n        setDashboardErrors(newErrors);\n\n        if (newErrors.jiraInput || newErrors.selectedFolder) {\n            return toast.error(\"LÃ¼tfen Jira AnahtarÄ± ve Hedef KlasÃ¶r alanlarÄ±nÄ± doldurunuz.\", { icon: 'ðŸ›‘' });\n        }\n\n        // EÄŸer hata yoksa senkronizasyonu baÅŸlat\n        setLoading(true); setSyncResults([]);\n        const tId = toast.loading('Entegrasyon baÅŸlatÄ±ldÄ±, veriler iÅŸleniyor...');\n        try {\n            const res = await axios.post(`${API_BASE_URL}/sync`, { jira_input: jiraInput, folder_id: selectedFolder, project_id: repoId });\n            setSyncResults(res.data.results || []);\n            const success = res.data.results.filter(r => r.status === 'success').length;\n            const failed = res.data.results.length - success;\n            if (success > 0) {\n                toast.success(`Ä°ÅŸlem TamamlandÄ±! ${success} kayÄ±t baÅŸarÄ±yla aktarÄ±ldÄ±. ${failed > 0 ? `(${failed} tanesi hata verdi.)` : ''}`, { id: tId, duration: 8000 });\n                setJiraInput('');\n                fetchStats();\n                setTimeout(() => setSyncResults([]), 10000);\n            } else {\n                toast.error(\"TÃ¼m gÃ¶rev anahtarlarÄ± iÅŸlenirken hata oluÅŸtu. LÃ¼tfen giriÅŸleri kontrol edin.\", { id: tId });\n            }\n        } catch (err) {\n            toast.error(\"Sunucu ile iletiÅŸim kurulamadÄ±. LÃ¼tfen API baÄŸlantÄ±larÄ±nÄ±zÄ± kontrol edin.\", { id: tId });\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Yeni KlasÃ¶r OluÅŸturma\n    const handleCreateFolder = async () => {\n        if (!newFolderName) return toast.error(\"LÃ¼tfen klasÃ¶r adÄ± giriniz.\");\n        try {\n            const res = await axios.post(`${API_BASE_URL}/folders/${repoId}`, { name: newFolderName, parent_id: selectedFolder || null });\n            await fetchFolders();\n            if(res.data?.id) setSelectedFolder(res.data.id);\n            setNewFolderName('');\n            setShowNewFolder(false);\n            toast.success(`KlasÃ¶r baÅŸarÄ±yla oluÅŸturuldu: ${newFolderName}`, { icon: 'ðŸ“' });\n        } catch (err) {\n            const msg = err.response?.data?.msg || \"KlasÃ¶r oluÅŸturma hatasÄ±. AynÄ± isimde bir klasÃ¶r olabilir.\";\n            toast.error(msg);\n        }\n    };\n\n    // AyarlarÄ± Kaydetme\n    const saveSettings = async () => {\n        setSettingsLoading(true);\n        try {\n            await axios.post(`${API_BASE_URL}/settings`, settingsData);\n            toast.success(\"YapÄ±landÄ±rma ayarlarÄ± baÅŸarÄ±yla gÃ¼ncellendi.\", { icon: 'ðŸ’¾' });\n            setTimeout(() => setView('dashboard'), 1000);\n        } catch {\n            toast.error(\"Ayarlar kaydedilemedi. LÃ¼tfen tÃ¼m alanlarÄ±n doÄŸru olduÄŸundan emin olun.\");\n        } finally {\n            setSettingsLoading(false);\n        }\n    };\n\n    // Åžifre DeÄŸiÅŸtirme\n    const handleChangePassword = async () => {\n        setPasswordErrors({ old: false, new: false, confirm: false });\n\n        let hasError = false;\n        const tempErrors = { old: false, new: false, confirm: false };\n\n        if (!passwordData.old) { tempErrors.old = true; hasError = true; }\n        if (!passwordData.new) { tempErrors.new = true; hasError = true; }\n        if (!passwordData.confirm) { tempErrors.confirm = true; hasError = true; }\n\n        if (hasError) {\n            setPasswordErrors(tempErrors);\n            return toast.error(\"LÃ¼tfen ÅŸifre alanlarÄ±nÄ± eksiksiz doldurunuz.\");\n        }\n\n        if (passwordData.new !== passwordData.confirm) {\n            setPasswordErrors(e => ({...e, new: true, confirm: true}));\n            return toast.error(\"Yeni ÅŸifreler birbiriyle uyuÅŸmuyor.\");\n        }\n\n        if (passwordData.new.length < 8) {\n            setPasswordErrors(e => ({...e, new: true, confirm: true}));\n            return toast.error(\"Yeni ÅŸifreniz en az 8 karakter olmalÄ±dÄ±r.\");\n        }\n\n        setSettingsLoading(true);\n        try {\n            await axios.post(`${API_BASE_URL}/change-password`, { old_password: passwordData.old, new_password: passwordData.new });\n            toast.success(\"Åžifreniz baÅŸarÄ±yla gÃ¼ncellendi. Yeni ÅŸifrenizle giriÅŸ yapÄ±nÄ±z.\", { icon: 'ðŸ”’' });\n            setPasswordData({ old: '', new: '', confirm: '' });\n        } catch (err) {\n            const msg = err.response?.data?.msg || \"Åžifre deÄŸiÅŸtirilemedi.\";\n            if (msg.includes('old password is incorrect')) {\n                 setPasswordErrors(e => ({...e, old: true}));\n                 toast.error(\"Mevcut ÅŸifreniz hatalÄ±. LÃ¼tfen doÄŸru ÅŸifrenizi giriniz.\");\n            } else {\n                 toast.error(msg);\n            }\n        } finally {\n            setSettingsLoading(false);\n        }\n    };\n\n    // --- KAPSÃœLLENMÄ°Åž ARAYÃœZ (RETURN) ---\n    return {\n        // State'ler\n        repoId, folders, selectedFolder, jiraInput, loading, foldersLoading,\n        syncResults, showNewFolder, newFolderName, previewTask, previewLoading,\n        settingsData, settingsLoading, historyData, stats, settingsTab, passwordData,\n        passwordErrors,\n        dashboardErrors, // YENÄ° EKLENDÄ°\n\n        // Setters (Input/Select gÃ¼ncellenince hatayÄ± temizleme mantÄ±ÄŸÄ± eklendi)\n        setRepoId,\n        setSelectedFolder: (value) => {\n            setSelectedFolder(value);\n            if (dashboardErrors.selectedFolder) setDashboardErrors(e => ({...e, selectedFolder: false}));\n        },\n        setJiraInput: (value) => {\n            setJiraInput(value);\n            if (dashboardErrors.jiraInput) setDashboardErrors(e => ({...e, jiraInput: false}));\n        },\n        setShowNewFolder, setNewFolderName, setSettingsData, setSettingsTab, setPasswordData,\n        setPasswordErrors,\n\n        // Ä°ÅŸlevler\n        handleSync, handleCreateFolder, saveSettings, handleChangePassword,\n        fetchFolders, fetchStats\n    };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}