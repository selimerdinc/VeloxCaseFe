{"ast":null,"code":"var _s = $RefreshSig$();\n// src/features/dashboard/useDashboard.js\n\nimport { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nconst API_BASE_URL = 'https://quickcase-api.onrender.com/api';\n\n/**\n * useDashboard: Dashboard ekranÄ±nÄ±n tÃ¼m veri yÃ¶netimi ve iÅŸ mantÄ±ÄŸÄ±nÄ± yÃ¶netir.\n */\nexport const useDashboard = (token, currentView, onLogout, setView) => {\n  _s();\n  // --- DASHBOARD STATE'leri ---\n  const [repoId, setRepoId] = useState(1);\n  const [folders, setFolders] = useState([]);\n  const [selectedFolder, setSelectedFolder] = useState('');\n  const [jiraInput, setJiraInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [foldersLoading, setFoldersLoading] = useState(false);\n  const [syncResults, setSyncResults] = useState([]);\n  const [showNewFolder, setShowNewFolder] = useState(false);\n  const [newFolderName, setNewFolderName] = useState('');\n\n  // YENÄ°: Dashboard Input Hata State'i (newFolderName eklendi)\n  const [dashboardErrors, setDashboardErrors] = useState({\n    jiraInput: false,\n    selectedFolder: false,\n    newFolderName: false\n  });\n\n  // --- PREVIEW STATE ---\n  const [previewTask, setPreviewTask] = useState(null);\n  const [previewLoading, setPreviewLoading] = useState(false);\n\n  // --- SETTINGS & DATA STATE'leri ---\n  const [settingsData, setSettingsData] = useState({});\n  const [settingsLoading, setSettingsLoading] = useState(false);\n  const [historyData, setHistoryData] = useState([]);\n  const [stats, setStats] = useState({\n    total_cases: 0,\n    total_images: 0,\n    today_syncs: 0\n  });\n  const [settingsTab, setSettingsTab] = useState('api');\n  const [passwordData, setPasswordData] = useState({\n    old: '',\n    new: '',\n    confirm: ''\n  });\n  const [passwordErrors, setPasswordErrors] = useState({\n    old: false,\n    new: false,\n    confirm: false\n  });\n\n  // --- VERÄ° Ã‡EKME Ä°ÅžLEVLERÄ° (AynÄ± kalÄ±r) ---\n  const fetchFolders = useCallback(async () => {\n    if (!repoId || !token || currentView !== 'dashboard') return;\n    setFoldersLoading(true);\n    try {\n      const res = await axios.get(`${API_BASE_URL}/folders/${repoId}`);\n      let list = res.data.folders || [];\n\n      // GÃœNCELLEME 1: Alfabetik (TÃ¼rkÃ§e) SÄ±ralama\n      list.sort((a, b) => a.name.localeCompare(b.name, 'tr', {\n        sensitivity: 'base'\n      }));\n      setFolders(list);\n    } catch (err) {\n      var _err$response;\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) onLogout();\n    } finally {\n      setFoldersLoading(false);\n    }\n  }, [repoId, token, currentView, onLogout]);\n  const fetchStats = useCallback(async () => {\n    if (!token || currentView !== 'dashboard') return;\n    try {\n      const res = await axios.get(`${API_BASE_URL}/stats`);\n      setStats(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n  }, [token, currentView]);\n\n  // --- YAN ETKÄ°LER (USE EFFECT - AynÄ± kalÄ±r) ---\n  useEffect(() => {\n    if (token && currentView === 'dashboard') {\n      fetchFolders();\n      fetchStats();\n    }\n  }, [fetchFolders, fetchStats, token, currentView]);\n  useEffect(() => {\n    if (currentView === 'history' && token) {\n      axios.get(`${API_BASE_URL}/history`).then(res => setHistoryData(res.data));\n    }\n    if (currentView === 'settings' && token) {\n      axios.get(`${API_BASE_URL}/settings`).then(res => {\n        const {\n          ...cleanData\n        } = res.data;\n        setSettingsData(cleanData);\n      });\n    }\n  }, [currentView, token]);\n  useEffect(() => {\n    setPreviewTask(null);\n    const delay = setTimeout(async () => {\n      if (token && jiraInput.length > 5 && !jiraInput.includes(',')) {\n        setPreviewLoading(true);\n        try {\n          const res = await axios.post(`${API_BASE_URL}/preview`, {\n            task_key: jiraInput\n          });\n          setPreviewTask(res.data);\n        } catch {\n          setPreviewTask(null);\n        } finally {\n          setPreviewLoading(false);\n        }\n      } else {\n        setPreviewTask(null);\n      }\n    }, 800);\n    return () => clearTimeout(delay);\n  }, [jiraInput, token]);\n\n  // --- Ä°ÅžLEVLER: CRUD/AKSYONLAR ---\n\n  // Senkronizasyon BaÅŸlatma\n  const handleSync = async () => {\n    const newErrors = {\n      jiraInput: !jiraInput || jiraInput.trim() === '',\n      selectedFolder: !selectedFolder || selectedFolder === ''\n    };\n    setDashboardErrors(e => ({\n      ...e,\n      ...newErrors\n    }));\n    if (newErrors.jiraInput || newErrors.selectedFolder) {\n      return toast.error(\"LÃ¼tfen Jira AnahtarÄ± ve Hedef KlasÃ¶r alanlarÄ±nÄ± doldurunuz.\", {\n        icon: 'ðŸ›‘'\n      });\n    }\n    setLoading(true);\n    setSyncResults([]);\n    const tId = toast.loading('Entegrasyon baÅŸlatÄ±ldÄ±, veriler iÅŸleniyor...');\n    try {\n      const res = await axios.post(`${API_BASE_URL}/sync`, {\n        jira_input: jiraInput,\n        folder_id: selectedFolder,\n        project_id: repoId\n      });\n      setSyncResults(res.data.results || []);\n      const success = res.data.results.filter(r => r.status === 'success').length;\n      const failed = res.data.results.length - success;\n      if (success > 0) {\n        toast.success(`Ä°ÅŸlem TamamlandÄ±! ${success} kayÄ±t baÅŸarÄ±yla aktarÄ±ldÄ±. ${failed > 0 ? `(${failed} tanesi hata verdi.)` : ''}`, {\n          id: tId,\n          duration: 8000\n        });\n        setJiraInput('');\n        fetchStats();\n        setTimeout(() => setSyncResults([]), 10000);\n      } else {\n        toast.error(\"TÃ¼m gÃ¶rev anahtarlarÄ± iÅŸlenirken hata oluÅŸtu. LÃ¼tfen giriÅŸleri kontrol edin.\", {\n          id: tId\n        });\n      }\n    } catch (err) {\n      toast.error(\"Sunucu ile iletiÅŸim kurulamadÄ±. LÃ¼tfen API baÄŸlantÄ±larÄ±nÄ±zÄ± kontrol edin.\", {\n        id: tId\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Yeni KlasÃ¶r OluÅŸturma (GÃœNCELLENDÄ°: Hata YÃ¶netimi Eklendi)\n  const handleCreateFolder = async () => {\n    // 1. BoÅŸluk kontrolÃ¼\n    if (!newFolderName || newFolderName.trim() === '') {\n      setDashboardErrors(e => ({\n        ...e,\n        newFolderName: true\n      }));\n      return toast.error(\"LÃ¼tfen klasÃ¶r adÄ± giriniz.\");\n    }\n    const finalName = newFolderName.trim();\n\n    // --- YENÄ° EKLENEN KISIM: AYNI Ä°SÄ°M KONTROLÃœ ---\n    // KlasÃ¶r listesinde aynÄ± isimde (bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harf Ã¶nemsemeden) klasÃ¶r var mÄ±?\n    const isDuplicate = folders.some(f => f.name.toLowerCase() === finalName.toLowerCase());\n    if (isDuplicate) {\n      setDashboardErrors(e => ({\n        ...e,\n        newFolderName: true\n      }));\n      // KullanÄ±cÄ±ya uyarÄ± ver ve iÅŸlemi durdur (Backend'e gitme)\n      return toast.error(\"Bu isimde bir klasÃ¶r zaten mevcut!\", {\n        icon: 'âš ï¸'\n      });\n    }\n    // ------------------------------------------------\n\n    try {\n      var _res$data$data;\n      const res = await axios.post(`${API_BASE_URL}/folders/${repoId}`, {\n        name: finalName,\n        parent_id: selectedFolder || null\n      });\n\n      // ID kontrolÃ¼ (API yapÄ±na gÃ¶re deÄŸiÅŸebilir, res.data.id veya res.data.data.id)\n      const newFolderId = res.data.id || ((_res$data$data = res.data.data) === null || _res$data$data === void 0 ? void 0 : _res$data$data.id);\n\n      // Listeyi gÃ¼ncelle ve sÄ±ralama mantÄ±ÄŸÄ±nÄ± uygula (Ã–nceki adÄ±mda yaptÄ±ÄŸÄ±mÄ±z mantÄ±k)\n      const listRes = await axios.get(`${API_BASE_URL}/folders/${repoId}`);\n      let allFolders = listRes.data.folders || [];\n      const createdFolderObj = allFolders.find(f => f.id === newFolderId) || {\n        id: newFolderId,\n        name: finalName\n      };\n      const otherFolders = allFolders.filter(f => f.id !== newFolderId);\n\n      // DiÄŸerlerini A-Z sÄ±rala\n      otherFolders.sort((a, b) => a.name.localeCompare(b.name, 'tr', {\n        sensitivity: 'base'\n      }));\n\n      // Yeni klasÃ¶rÃ¼ en baÅŸa ekle\n      setFolders([createdFolderObj, ...otherFolders]);\n      if (newFolderId) setSelectedFolder(newFolderId);\n      setNewFolderName('');\n      setShowNewFolder(false);\n      setDashboardErrors(e => ({\n        ...e,\n        newFolderName: false\n      }));\n      toast.success(`KlasÃ¶r baÅŸarÄ±yla oluÅŸturuldu: ${finalName}`, {\n        icon: 'ðŸ“'\n      });\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setDashboardErrors(e => ({\n        ...e,\n        newFolderName: true\n      }));\n      const msg = ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.msg) || \"KlasÃ¶r oluÅŸturma hatasÄ±.\";\n      toast.error(msg);\n    }\n  };\n\n  // AyarlarÄ± Kaydetme\n  const saveSettings = async () => {\n    setSettingsLoading(true);\n    try {\n      await axios.post(`${API_BASE_URL}/settings`, settingsData);\n      toast.success(\"YapÄ±landÄ±rma ayarlarÄ± baÅŸarÄ±yla gÃ¼ncellendi.\", {\n        icon: 'ðŸ’¾'\n      });\n      setTimeout(() => setView('dashboard'), 1000);\n    } catch {\n      toast.error(\"Ayarlar kaydedilemedi. LÃ¼tfen tÃ¼m alanlarÄ±n doÄŸru olduÄŸundan emin olun.\");\n    } finally {\n      setSettingsLoading(false);\n    }\n  };\n\n  // Åžifre DeÄŸiÅŸtirme\n  const handleChangePassword = async () => {\n    setPasswordErrors({\n      old: false,\n      new: false,\n      confirm: false\n    });\n    let hasError = false;\n    const tempErrors = {\n      old: false,\n      new: false,\n      confirm: false\n    };\n    if (!passwordData.old) {\n      tempErrors.old = true;\n      hasError = true;\n    }\n    if (!passwordData.new) {\n      tempErrors.new = true;\n      hasError = true;\n    }\n    if (!passwordData.confirm) {\n      tempErrors.confirm = true;\n      hasError = true;\n    }\n    if (hasError) {\n      setPasswordErrors(tempErrors);\n      return toast.error(\"LÃ¼tfen ÅŸifre alanlarÄ±nÄ± eksiksiz doldurunuz.\");\n    }\n    if (passwordData.new !== passwordData.confirm) {\n      setPasswordErrors(e => ({\n        ...e,\n        new: true,\n        confirm: true\n      }));\n      return toast.error(\"Yeni ÅŸifreler birbiriyle uyuÅŸmuyor.\");\n    }\n    if (passwordData.new.length < 8) {\n      setPasswordErrors(e => ({\n        ...e,\n        new: true,\n        confirm: true\n      }));\n      return toast.error(\"Yeni ÅŸifreniz en az 8 karakter olmalÄ±dÄ±r.\");\n    }\n    setSettingsLoading(true);\n    try {\n      await axios.post(`${API_BASE_URL}/change-password`, {\n        old_password: passwordData.old,\n        new_password: passwordData.new\n      });\n      toast.success(\"Åžifreniz baÅŸarÄ±yla gÃ¼ncellendi. Yeni ÅŸifrenizle giriÅŸ yapÄ±nÄ±z.\", {\n        icon: 'ðŸ”’'\n      });\n      setPasswordData({\n        old: '',\n        new: '',\n        confirm: ''\n      });\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      const msg = ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.msg) || \"Åžifre deÄŸiÅŸtirilemedi.\";\n      if (msg.includes('old password is incorrect')) {\n        setPasswordErrors(e => ({\n          ...e,\n          old: true\n        }));\n        toast.error(\"Mevcut ÅŸifreniz hatalÄ±. LÃ¼tfen doÄŸru ÅŸifrenizi giriniz.\");\n      } else {\n        toast.error(msg);\n      }\n    } finally {\n      setSettingsLoading(false);\n    }\n  };\n\n  // --- KAPSÃœLLENMÄ°Åž ARAYÃœZ (RETURN) ---\n  return {\n    // State'ler\n    repoId,\n    folders,\n    selectedFolder,\n    jiraInput,\n    loading,\n    foldersLoading,\n    syncResults,\n    showNewFolder,\n    newFolderName,\n    previewTask,\n    previewLoading,\n    settingsData,\n    settingsLoading,\n    historyData,\n    stats,\n    settingsTab,\n    passwordData,\n    passwordErrors,\n    dashboardErrors,\n    // Setters (Input/Select gÃ¼ncellenince hatayÄ± temizleme mantÄ±ÄŸÄ±)\n    setRepoId,\n    setSelectedFolder: value => {\n      setSelectedFolder(value);\n      if (dashboardErrors.selectedFolder) setDashboardErrors(e => ({\n        ...e,\n        selectedFolder: false\n      }));\n    },\n    setJiraInput: value => {\n      setJiraInput(value);\n      if (dashboardErrors.jiraInput) setDashboardErrors(e => ({\n        ...e,\n        jiraInput: false\n      }));\n    },\n    setNewFolderName: value => {\n      setNewFolderName(value);\n      // KullanÄ±cÄ± yazmaya baÅŸladÄ±ÄŸÄ±nda kÄ±rmÄ±zÄ±lÄ±ÄŸÄ± kaldÄ±r\n      if (dashboardErrors.newFolderName) setDashboardErrors(e => ({\n        ...e,\n        newFolderName: false\n      }));\n    },\n    setShowNewFolder,\n    setSettingsData,\n    setSettingsTab,\n    setPasswordData,\n    setPasswordErrors,\n    // Ä°ÅŸlevler\n    handleSync,\n    handleCreateFolder,\n    saveSettings,\n    handleChangePassword,\n    fetchFolders,\n    fetchStats\n  };\n};\n_s(useDashboard, \"yIhchNHDxCwJM0EIclCNznAYQXo=\");","map":{"version":3,"names":["useState","useEffect","useCallback","axios","toast","API_BASE_URL","useDashboard","token","currentView","onLogout","setView","_s","repoId","setRepoId","folders","setFolders","selectedFolder","setSelectedFolder","jiraInput","setJiraInput","loading","setLoading","foldersLoading","setFoldersLoading","syncResults","setSyncResults","showNewFolder","setShowNewFolder","newFolderName","setNewFolderName","dashboardErrors","setDashboardErrors","previewTask","setPreviewTask","previewLoading","setPreviewLoading","settingsData","setSettingsData","settingsLoading","setSettingsLoading","historyData","setHistoryData","stats","setStats","total_cases","total_images","today_syncs","settingsTab","setSettingsTab","passwordData","setPasswordData","old","new","confirm","passwordErrors","setPasswordErrors","fetchFolders","res","get","list","data","sort","a","b","name","localeCompare","sensitivity","err","_err$response","response","status","fetchStats","console","error","then","cleanData","delay","setTimeout","length","includes","post","task_key","clearTimeout","handleSync","newErrors","trim","e","icon","tId","jira_input","folder_id","project_id","results","success","filter","r","failed","id","duration","handleCreateFolder","finalName","isDuplicate","some","f","toLowerCase","_res$data$data","parent_id","newFolderId","listRes","allFolders","createdFolderObj","find","otherFolders","_err$response2","_err$response2$data","msg","saveSettings","handleChangePassword","hasError","tempErrors","old_password","new_password","_err$response3","_err$response3$data","value"],"sources":["/Users/btcyz554/PycharmProjects/VeloxCaseFe/src/features/dashboard/useDashboard.js"],"sourcesContent":["// src/features/dashboard/useDashboard.js\n\nimport { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\nconst API_BASE_URL = 'https://quickcase-api.onrender.com/api';\n\n/**\n * useDashboard: Dashboard ekranÄ±nÄ±n tÃ¼m veri yÃ¶netimi ve iÅŸ mantÄ±ÄŸÄ±nÄ± yÃ¶netir.\n */\nexport const useDashboard = (token, currentView, onLogout, setView) => {\n    // --- DASHBOARD STATE'leri ---\n    const [repoId, setRepoId] = useState(1);\n    const [folders, setFolders] = useState([]);\n    const [selectedFolder, setSelectedFolder] = useState('');\n    const [jiraInput, setJiraInput] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [foldersLoading, setFoldersLoading] = useState(false);\n    const [syncResults, setSyncResults] = useState([]);\n    const [showNewFolder, setShowNewFolder] = useState(false);\n    const [newFolderName, setNewFolderName] = useState('');\n\n    // YENÄ°: Dashboard Input Hata State'i (newFolderName eklendi)\n    const [dashboardErrors, setDashboardErrors] = useState({\n        jiraInput: false,\n        selectedFolder: false,\n        newFolderName: false\n    });\n\n    // --- PREVIEW STATE ---\n    const [previewTask, setPreviewTask] = useState(null);\n    const [previewLoading, setPreviewLoading] = useState(false);\n\n    // --- SETTINGS & DATA STATE'leri ---\n    const [settingsData, setSettingsData] = useState({});\n    const [settingsLoading, setSettingsLoading] = useState(false);\n    const [historyData, setHistoryData] = useState([]);\n    const [stats, setStats] = useState({ total_cases: 0, total_images: 0, today_syncs: 0 });\n    const [settingsTab, setSettingsTab] = useState('api');\n    const [passwordData, setPasswordData] = useState({ old: '', new: '', confirm: '' });\n    const [passwordErrors, setPasswordErrors] = useState({ old: false, new: false, confirm: false });\n\n\n    // --- VERÄ° Ã‡EKME Ä°ÅžLEVLERÄ° (AynÄ± kalÄ±r) ---\n    const fetchFolders = useCallback(async () => {\n        if (!repoId || !token || currentView !== 'dashboard') return;\n        setFoldersLoading(true);\n        try {\n            const res = await axios.get(`${API_BASE_URL}/folders/${repoId}`);\n            let list = res.data.folders || [];\n\n            // GÃœNCELLEME 1: Alfabetik (TÃ¼rkÃ§e) SÄ±ralama\n            list.sort((a, b) => a.name.localeCompare(b.name, 'tr', { sensitivity: 'base' }));\n\n            setFolders(list);\n        } catch (err) {\n            if(err.response?.status === 401) onLogout();\n        } finally {\n            setFoldersLoading(false);\n        }\n    }, [repoId, token, currentView, onLogout]);\n\n    const fetchStats = useCallback(async () => {\n        if (!token || currentView !== 'dashboard') return;\n        try {\n            const res = await axios.get(`${API_BASE_URL}/stats`);\n            setStats(res.data);\n        } catch (err) {\n            console.error(err);\n        }\n    }, [token, currentView]);\n\n\n    // --- YAN ETKÄ°LER (USE EFFECT - AynÄ± kalÄ±r) ---\n    useEffect(() => {\n        if(token && currentView === 'dashboard') {\n            fetchFolders();\n            fetchStats();\n        }\n    }, [fetchFolders, fetchStats, token, currentView]);\n\n    useEffect(() => {\n        if (currentView === 'history' && token) {\n            axios.get(`${API_BASE_URL}/history`).then(res => setHistoryData(res.data));\n        }\n        if (currentView === 'settings' && token) {\n            axios.get(`${API_BASE_URL}/settings`).then(res => {\n                const { ...cleanData } = res.data;\n                setSettingsData(cleanData);\n            });\n        }\n    }, [currentView, token]);\n\n    useEffect(() => {\n        setPreviewTask(null);\n        const delay = setTimeout(async () => {\n            if (token && jiraInput.length > 5 && !jiraInput.includes(',')) {\n                setPreviewLoading(true);\n                try {\n                    const res = await axios.post(`${API_BASE_URL}/preview`, { task_key: jiraInput });\n                    setPreviewTask(res.data);\n                } catch {\n                    setPreviewTask(null);\n                } finally {\n                    setPreviewLoading(false);\n                }\n            } else {\n                setPreviewTask(null);\n            }\n        }, 800);\n        return () => clearTimeout(delay);\n    }, [jiraInput, token]);\n\n\n    // --- Ä°ÅžLEVLER: CRUD/AKSYONLAR ---\n\n    // Senkronizasyon BaÅŸlatma\n    const handleSync = async () => {\n        const newErrors = {\n            jiraInput: !jiraInput || jiraInput.trim() === '',\n            selectedFolder: !selectedFolder || selectedFolder === ''\n        };\n        setDashboardErrors(e => ({...e, ...newErrors}));\n\n        if (newErrors.jiraInput || newErrors.selectedFolder) {\n            return toast.error(\"LÃ¼tfen Jira AnahtarÄ± ve Hedef KlasÃ¶r alanlarÄ±nÄ± doldurunuz.\", { icon: 'ðŸ›‘' });\n        }\n\n        setLoading(true); setSyncResults([]);\n        const tId = toast.loading('Entegrasyon baÅŸlatÄ±ldÄ±, veriler iÅŸleniyor...');\n        try {\n            const res = await axios.post(`${API_BASE_URL}/sync`, { jira_input: jiraInput, folder_id: selectedFolder, project_id: repoId });\n            setSyncResults(res.data.results || []);\n            const success = res.data.results.filter(r => r.status === 'success').length;\n            const failed = res.data.results.length - success;\n            if (success > 0) {\n                toast.success(`Ä°ÅŸlem TamamlandÄ±! ${success} kayÄ±t baÅŸarÄ±yla aktarÄ±ldÄ±. ${failed > 0 ? `(${failed} tanesi hata verdi.)` : ''}`, { id: tId, duration: 8000 });\n                setJiraInput('');\n                fetchStats();\n                setTimeout(() => setSyncResults([]), 10000);\n            } else {\n                toast.error(\"TÃ¼m gÃ¶rev anahtarlarÄ± iÅŸlenirken hata oluÅŸtu. LÃ¼tfen giriÅŸleri kontrol edin.\", { id: tId });\n            }\n        } catch (err) {\n            toast.error(\"Sunucu ile iletiÅŸim kurulamadÄ±. LÃ¼tfen API baÄŸlantÄ±larÄ±nÄ±zÄ± kontrol edin.\", { id: tId });\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Yeni KlasÃ¶r OluÅŸturma (GÃœNCELLENDÄ°: Hata YÃ¶netimi Eklendi)\n    const handleCreateFolder = async () => {\n        // 1. BoÅŸluk kontrolÃ¼\n        if (!newFolderName || newFolderName.trim() === '') {\n            setDashboardErrors(e => ({...e, newFolderName: true}));\n            return toast.error(\"LÃ¼tfen klasÃ¶r adÄ± giriniz.\");\n        }\n\n        const finalName = newFolderName.trim();\n\n        // --- YENÄ° EKLENEN KISIM: AYNI Ä°SÄ°M KONTROLÃœ ---\n        // KlasÃ¶r listesinde aynÄ± isimde (bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harf Ã¶nemsemeden) klasÃ¶r var mÄ±?\n        const isDuplicate = folders.some(\n            f => f.name.toLowerCase() === finalName.toLowerCase()\n        );\n\n        if (isDuplicate) {\n            setDashboardErrors(e => ({...e, newFolderName: true}));\n            // KullanÄ±cÄ±ya uyarÄ± ver ve iÅŸlemi durdur (Backend'e gitme)\n            return toast.error(\"Bu isimde bir klasÃ¶r zaten mevcut!\", { icon: 'âš ï¸' });\n        }\n        // ------------------------------------------------\n\n        try {\n            const res = await axios.post(`${API_BASE_URL}/folders/${repoId}`, { name: finalName, parent_id: selectedFolder || null });\n\n            // ID kontrolÃ¼ (API yapÄ±na gÃ¶re deÄŸiÅŸebilir, res.data.id veya res.data.data.id)\n            const newFolderId = res.data.id || res.data.data?.id;\n\n            // Listeyi gÃ¼ncelle ve sÄ±ralama mantÄ±ÄŸÄ±nÄ± uygula (Ã–nceki adÄ±mda yaptÄ±ÄŸÄ±mÄ±z mantÄ±k)\n            const listRes = await axios.get(`${API_BASE_URL}/folders/${repoId}`);\n            let allFolders = listRes.data.folders || [];\n\n            const createdFolderObj = allFolders.find(f => f.id === newFolderId) || { id: newFolderId, name: finalName };\n            const otherFolders = allFolders.filter(f => f.id !== newFolderId);\n\n            // DiÄŸerlerini A-Z sÄ±rala\n            otherFolders.sort((a, b) => a.name.localeCompare(b.name, 'tr', { sensitivity: 'base' }));\n\n            // Yeni klasÃ¶rÃ¼ en baÅŸa ekle\n            setFolders([createdFolderObj, ...otherFolders]);\n\n            if(newFolderId) setSelectedFolder(newFolderId);\n\n            setNewFolderName('');\n            setShowNewFolder(false);\n            setDashboardErrors(e => ({...e, newFolderName: false}));\n\n            toast.success(`KlasÃ¶r baÅŸarÄ±yla oluÅŸturuldu: ${finalName}`, { icon: 'ðŸ“' });\n        } catch (err) {\n            setDashboardErrors(e => ({...e, newFolderName: true}));\n            const msg = err.response?.data?.msg || \"KlasÃ¶r oluÅŸturma hatasÄ±.\";\n            toast.error(msg);\n        }\n    };\n\n    // AyarlarÄ± Kaydetme\n    const saveSettings = async () => {\n        setSettingsLoading(true);\n        try {\n            await axios.post(`${API_BASE_URL}/settings`, settingsData);\n            toast.success(\"YapÄ±landÄ±rma ayarlarÄ± baÅŸarÄ±yla gÃ¼ncellendi.\", { icon: 'ðŸ’¾' });\n            setTimeout(() => setView('dashboard'), 1000);\n        } catch {\n            toast.error(\"Ayarlar kaydedilemedi. LÃ¼tfen tÃ¼m alanlarÄ±n doÄŸru olduÄŸundan emin olun.\");\n        } finally {\n            setSettingsLoading(false);\n        }\n    };\n\n    // Åžifre DeÄŸiÅŸtirme\n    const handleChangePassword = async () => {\n        setPasswordErrors({ old: false, new: false, confirm: false });\n\n        let hasError = false;\n        const tempErrors = { old: false, new: false, confirm: false };\n\n        if (!passwordData.old) { tempErrors.old = true; hasError = true; }\n        if (!passwordData.new) { tempErrors.new = true; hasError = true; }\n        if (!passwordData.confirm) { tempErrors.confirm = true; hasError = true; }\n\n        if (hasError) {\n            setPasswordErrors(tempErrors);\n            return toast.error(\"LÃ¼tfen ÅŸifre alanlarÄ±nÄ± eksiksiz doldurunuz.\");\n        }\n\n        if (passwordData.new !== passwordData.confirm) {\n            setPasswordErrors(e => ({...e, new: true, confirm: true}));\n            return toast.error(\"Yeni ÅŸifreler birbiriyle uyuÅŸmuyor.\");\n        }\n\n        if (passwordData.new.length < 8) {\n            setPasswordErrors(e => ({...e, new: true, confirm: true}));\n            return toast.error(\"Yeni ÅŸifreniz en az 8 karakter olmalÄ±dÄ±r.\");\n        }\n\n        setSettingsLoading(true);\n        try {\n            await axios.post(`${API_BASE_URL}/change-password`, { old_password: passwordData.old, new_password: passwordData.new });\n            toast.success(\"Åžifreniz baÅŸarÄ±yla gÃ¼ncellendi. Yeni ÅŸifrenizle giriÅŸ yapÄ±nÄ±z.\", { icon: 'ðŸ”’' });\n            setPasswordData({ old: '', new: '', confirm: '' });\n        } catch (err) {\n            const msg = err.response?.data?.msg || \"Åžifre deÄŸiÅŸtirilemedi.\";\n            if (msg.includes('old password is incorrect')) {\n                 setPasswordErrors(e => ({...e, old: true}));\n                 toast.error(\"Mevcut ÅŸifreniz hatalÄ±. LÃ¼tfen doÄŸru ÅŸifrenizi giriniz.\");\n            } else {\n                 toast.error(msg);\n            }\n        } finally {\n            setSettingsLoading(false);\n        }\n    };\n\n    // --- KAPSÃœLLENMÄ°Åž ARAYÃœZ (RETURN) ---\n    return {\n        // State'ler\n        repoId, folders, selectedFolder, jiraInput, loading, foldersLoading,\n        syncResults, showNewFolder, newFolderName, previewTask, previewLoading,\n        settingsData, settingsLoading, historyData, stats, settingsTab, passwordData,\n        passwordErrors,\n        dashboardErrors,\n\n        // Setters (Input/Select gÃ¼ncellenince hatayÄ± temizleme mantÄ±ÄŸÄ±)\n        setRepoId,\n        setSelectedFolder: (value) => {\n            setSelectedFolder(value);\n            if (dashboardErrors.selectedFolder) setDashboardErrors(e => ({...e, selectedFolder: false}));\n        },\n        setJiraInput: (value) => {\n            setJiraInput(value);\n            if (dashboardErrors.jiraInput) setDashboardErrors(e => ({...e, jiraInput: false}));\n        },\n        setNewFolderName: (value) => {\n            setNewFolderName(value);\n            // KullanÄ±cÄ± yazmaya baÅŸladÄ±ÄŸÄ±nda kÄ±rmÄ±zÄ±lÄ±ÄŸÄ± kaldÄ±r\n            if (dashboardErrors.newFolderName) setDashboardErrors(e => ({...e, newFolderName: false}));\n        },\n        setShowNewFolder, setSettingsData, setSettingsTab, setPasswordData,\n        setPasswordErrors,\n\n        // Ä°ÅŸlevler\n        handleSync, handleCreateFolder, saveSettings, handleChangePassword,\n        fetchFolders, fetchStats\n    };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}